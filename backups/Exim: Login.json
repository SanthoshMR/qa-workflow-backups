{
  "active": false,
  "connections": {
    "Start": {
      "main": [
        [
          {
            "node": "Globals",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Globals": {
      "main": [
        [
          {
            "node": "Login to Exim",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Capture Cookie": {
      "main": [
        [
          {
            "node": "Get Results",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Login to Exim": {
      "main": [
        [
          {
            "node": "Capture Cookie",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Results": {
      "main": [
        [
          {
            "node": "Get Records",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2022-04-18T19:43:07.331Z",
  "id": "108",
  "name": "Exim: Login",
  "nodes": [
    {
      "parameters": {},
      "name": "Start",
      "type": "n8n-nodes-base.start",
      "typeVersion": 1,
      "position": [
        220,
        300
      ]
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "https://web.eximpedia.app:8000/trade/shipments/explore/records",
        "allowUnauthorizedCerts": true,
        "jsonParameters": true,
        "options": {
          "bodyContentType": "json"
        },
        "bodyParametersJson": "{\"allFields\":[\"FOUR_DIGIT\",\"EXP_DATE\",\"HS_CODE\",\"PRODUCT_DESCRIPTION\",\"QUANTITY\",\"UNIT\",\"ITEM_RATE_INV\",\"CURRENCY\",\"TOTAL_AMOUNT_INV_FC\",\"FOB_INR\",\"ITEM_RATE_INR\",\"FOB_USD\",\"USD_EXCHANGE_RATE\",\"FOREIGN_PORT\",\"COUNTRY\",\"INDIAN_PORT\",\"IEC\",\"EXPORTER_NAME\",\"ADDRESS\",\"CITY\",\"PIN\",\"BUYER_NAME\",\"BUYER_ADDRESS\",\"INVOICE_NO\",\"CUSH\",\"ITEM_NO\",\"DRAWBACK\",\"STD_QUANTITY\",\"STD_UNIT\",\"STD_ITEM_RATE_INR\",\"STD_ITEM_RATE_INV\",\"DECLARATION_NO\"],\"isEngine\":true,\"recordSetKey\":\"RECORD_SET\",\"sortTerm\":\"EXP_DATE\",\"searchExpressions\":[],\"matchExpressions\":[{\"identifier\":\"SEARCH_HS_CODE\",\"alias\":\"HS_CODE\",\"clause\":\"MATCH\",\"expressionType\":103,\"fieldTerm\":\"HS_CODE\",\"fieldValueLeft\":85400000,\"fieldValueRight\":85409999,\"fieldTermTypeSuffix\":\".number\",\"fieldValue\":\"8540\",\"advanceSearchType\":false},{\"identifier\":\"SEARCH_MONTH_RANGE\",\"alias\":\"MONTH\",\"clause\":\"MATCH\",\"expressionType\":300,\"fieldTerm\":\"EXP_DATE\",\"fieldValue\":[],\"fieldTermTypeSuffix\":\"\",\"fieldValueLeft\":\"2021-12-31T18:30:00.000Z\",\"fieldValueRight\":\"2022-03-31T18:30:00.000Z\"}],\"groupExpressions\":[{\"identifier\":\"SUMMARY_HS_CODE\",\"alias\":\"HS_CODE\",\"clause\":\"GROUP\",\"expressionType\":8,\"fieldTerm\":\"HS_CODE\",\"fieldTermTypeSuffix\":\".number\",\"isFilter\":0,\"isSummary\":1},{\"identifier\":\"SUMMARY_BUYERS\",\"alias\":\"BUYER\",\"clause\":\"GROUP\",\"expressionType\":8,\"fieldTerm\":\"BUYER_NAME\",\"fieldTermTypeSuffix\":\".keyword\",\"isFilter\":0,\"isSummary\":1},{\"identifier\":\"SUMMARY_SELLERS\",\"alias\":\"SELLER\",\"clause\":\"GROUP\",\"expressionType\":8,\"fieldTerm\":\"EXPORTER_NAME\",\"fieldTermTypeSuffix\":\".keyword\",\"isFilter\":0,\"isSummary\":1},{\"identifier\":\"SUMMARY_SHIPMENTS\",\"alias\":\"SHIPMENT\",\"clause\":\"GROUP\",\"expressionType\":8,\"fieldTerm\":\"DECLARATION_NO\",\"fieldTermTypeSuffix\":\".keyword\",\"isFilter\":0,\"isSummary\":1},{\"identifier\":\"FILTER_HS_CODE\",\"alias\":\"HS_CODE\",\"clause\":\"GROUP\",\"expressionType\":9,\"fieldTerm\":\"HS_CODE\",\"fieldTermTypeSuffix\":\".number\",\"isFilter\":1,\"isSummary\":0},{\"identifier\":\"FILTER_PORT\",\"alias\":\"PORT\",\"clause\":\"GROUP\",\"expressionType\":9,\"fieldTerm\":\"INDIAN_PORT\",\"fieldTermTypeSuffix\":\".keyword\",\"isFilter\":1,\"isSummary\":0},{\"identifier\":\"FILTER_COUNTRY\",\"alias\":\"COUNTRY\",\"clause\":\"GROUP\",\"expressionType\":9,\"fieldTerm\":\"COUNTRY\",\"fieldTermTypeSuffix\":\".keyword\",\"isFilter\":1,\"isSummary\":0},{\"identifier\":\"FILTER_UNIT_QUANTITY\",\"alias\":\"UNIT|QUANTITY\",\"clause\":\"GROUP\",\"expressionType\":12,\"fieldTermPrimary\":\"STD_UNIT\",\"fieldTermSecondary\":\"STD_QUANTITY\",\"fieldTermPrimaryTypeSuffix\":\".keyword\",\"fieldTermSecondaryTypeSuffix\":\".double\",\"isFilter\":1,\"isSummary\":0},{\"identifier\":\"FILTER_CURRENCY_PRICE_INR\",\"alias\":\"PRICE\",\"clause\":\"GROUP\",\"expressionType\":11,\"fieldTerm\":\"FOB_INR\",\"metaTag\":\"INR\",\"fieldTermTypeSuffix\":\".double\",\"isFilter\":1,\"isSummary\":0},{\"identifier\":\"FILTER_MONTH\",\"alias\":\"MONTH\",\"clause\":\"GROUP\",\"expressionType\":18,\"fieldTerm\":\"EXP_DATE\",\"fieldTermTypeSuffix\":\"\",\"isFilter\":1,\"isSummary\":0},{\"identifier\":\"FILTER_DUTY\",\"alias\":\"DUTY\",\"clause\":\"GROUP\",\"expressionType\":11,\"fieldTerm\":\"STD_ITEM_RATE_INV\",\"fieldTermTypeSuffix\":\".double\",\"isFilter\":1,\"isSummary\":0}],\"projectionExpressions\":[],\"tradeType\":\"EXPORT\",\"countryCode\":\"IND\",\"country\":\"INDIA\",\"purchasable\":[\"DECLARATION_NO\",\"IEC\",\"EXPORTER_NAME\",\"ADDRESS\",\"CITY\",\"PIN\",\"BUYER_NAME\",\"BUYER_ADDRESS\"],\"tradeTotalRecords\":0,\"getAddedRowUpdatedId\":{},\"draw\":1,\"start\":0,\"length\":10,\"resultType\":\"COMBINED\",\"accountId\":\"61dd2d9a1f24d0447beffe82\",\"userId\":\"61dd2d9a1f24d0447beffe83\"}",
        "headerParametersJson": "={{ { 'Cookie': $json.cookie[0], 'Content-Type': 'application/json', 'Accept': 'application/json' } }}"
      },
      "name": "Get Results",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1020,
        300
      ]
    },
    {
      "parameters": {
        "values": {
          "string": [
            {
              "name": "EXIM_URL",
              "value": "https://web.eximpedia.app:8000"
            }
          ]
        },
        "options": {}
      },
      "name": "Globals",
      "type": "n8n-nodes-base.set",
      "typeVersion": 1,
      "position": [
        420,
        300
      ]
    },
    {
      "parameters": {
        "functionCode": "items[0].json.cookie = items[0].json.headers[\"set-cookie\"];\nreturn items;"
      },
      "name": "Capture Cookie",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [
        820,
        300
      ]
    },
    {
      "parameters": {
        "requestMethod": "PUT",
        "url": "={{$node[\"Globals\"].json[\"EXIM_URL\"]}}/auths/login",
        "allowUnauthorizedCerts": true,
        "options": {
          "fullResponse": true
        },
        "bodyParametersUi": {
          "parameter": [
            {
              "name": "email_id",
              "value": "asafounders@gmail.com"
            },
            {
              "name": "password",
              "value": "shakedeal@123"
            },
            {
              "name": "browser",
              "value": "Chrome"
            }
          ]
        }
      },
      "name": "Login to Exim",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        620,
        300
      ]
    },
    {
      "parameters": {},
      "name": "Get Records",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [
        1220,
        300
      ]
    }
  ],
  "settings": {},
  "staticData": null,
  "updatedAt": "2022-04-24T09:41:07.526Z"
}